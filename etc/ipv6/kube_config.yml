apiVersion: kubeadm.k8s.io/v1beta2

kind: InitConfiguration

localAPIEndpoint:

  advertiseAddress: fc00::24

  bindPort: 6443

nodeRegistration:

  criSocket: /var/run/dockershim.sock

  taints:

    - effect: NoSchedule

      key: node-role.kubernetes.io/master

  kubeletExtraArgs:

    node-ip: "fc00::24"

---

apiServer:

  timeoutForControlPlane: 4m0s

apiVersion: kubeadm.k8s.io/v1beta2

certificatesDir: /etc/kubernetes/pki

clusterName: kubernetes

controlPlaneEndpoint: "[fc00::24]:6443"

dns:

  type: CoreDNS

imageRepository: k8s.gcr.io

controllerManager:

  extraArgs:

    #feature-gates: IPv6DualStack=true

    bind-address: "::"

    service-cluster-ip-range: fd03::/120

    cluster-cidr: "fd04::/120"

kind: ClusterConfiguration

kubernetesVersion: v1.17.4

networking:

  dnsDomain: cluster.local

  serviceSubnet: "fd03::/120"

  podSubnet: "fd04::/120"

---

apiVersion: kubelet.config.k8s.io/v1beta1

kind: KubeletConfiguration

failSwapOn: false

---

apiVersion: kubeproxy.config.k8s.io/v1alpha1

kind: KubeProxyConfiguration

clusterCIDR: "fd03::/120"

mode: "ipvs"

 